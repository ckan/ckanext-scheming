{#
Renders a list of resources with icons and view links.

resources - A list of resources to render
pkg - A package object that the resources belong to.

Example:

  {% snippet "package/snippets/resources_list.html", pkg=pkg, resources=pkg.resources %}

#}
{% if resources %}
<section id="dataset-resources" class="resources">
  <h3>{{ _('Data and Resources') }}</h3>
  {% block resource_list %}
      <ul class="{% block resource_list_class %}resource-list{% endblock %}">
        {% block resource_list_inner %}
          {% set can_edit = h.check_access('package_update', {'id':pkg.id }) %}
          {% for resource in resources %}
            {% snippet 'package/snippets/resource_item.html', pkg=pkg, res=resource, can_edit=can_edit %}
          {% endfor %}
        {% endblock %}
      </ul>
    {% endblock %}
</section>
{% endif %}

{% block autogenerated_resource_list %}
{% set autogenerated_resources = h.get_autogenerated_resources(pkg, schema) %}
  {% if autogenerated_resources %}
  <section id="dataset-resources" class="resources">
    <h3>{{ _('Autogenerated Resources') }}</h3>
    <ul class="{% block autogenerated_resource_list_class %}resource-list{% endblock %}">
      {% for resource in autogenerated_resources %}
        {% snippet 'scheming/package/snippets/autogenerated_resource_item.html', pkg=pkg, res=resource %}
      {% endfor %}
    </ul>
  </section>
  {% endif %}
{% endblock %}

{% block missing_resource_list %}
{% set missing = h.get_missing_resources(pkg, schema) %}
  {% if missing %}
  <section id="dataset-resources" class="resources">
    <h3>{{ _('Missing Resources') }}</h3>
    <ul class="{% block missing_resource_list_class %}resource-list{% endblock %}">
      {% set can_edit = h.check_access('package_update', {'id':pkg.id }) %}
      {% for resource in missing %}
        {% snippet 'scheming/package/snippets/missing_resource_item.html', pkg=pkg, res=resource, can_edit=can_edit %}
      {% endfor %}
    </ul>
  </section>
  {% endif %}
{% endblock %}
